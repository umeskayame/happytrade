# アプリケーション名
HappyTrade  
  
# アプリケーション概要  
交換に特化した利用者の需要と供給を結びつけるアプリケーションで、最小限のやりとりで忙しい人でも手軽に利用できる機能を実装します。  

# URL  
https://happy-trade.onrender.com  

# テスト用アカウント  
*Basic認証ID・・・admin  
*Basic認証password・・・0811  
*ユーザーAのID（メールアドレス）・・・test1@test.com  
*ユーザーAのpassword・・・a11111  
*ユーザーBのID（メールアドレス）・・・test2@test.com  
**ユーザーBのpassword・・・a11111  
  
# 利用方法  
1. 交換したいアイテムを所持している場合、あらかじめ会員登録（ログイン）を行います。  
  
2. トップページにある「アイテム」登録ボタンより出品を行いアイテム詳細ページを作成します。  
※アイテムを出品する際には【交換して獲得したいアイテム】についても記入を行い、どのアイテムを獲得したいのか一目でわかるようにしておきます。  
  
3. ◎自分(ユーザーA)から交換の提案を行う場合  
他ユーザー(ユーザーB)が出品している、獲得したいアイテムの詳細ページへ遷移します。  
※出品を行うとトップページにアイテムが表示されます。  
アイテム詳細ページの下部でコメントの入力ができるようになっており、「交換を希望する」ボタンをクリックします。  
※この時にユーザーAは、自身が出品した交換を申し出るアイテムの詳細ページURLを記入しコメントを送信します。  
  
4. ユーザーBはユーザーAが提示したアイテム詳細ページへと遷移し、交換に応じる場合はコメント部分にある「交換OKです」ボタンをクリックします。  
  
5. コメント部分に「商品交換へ進む」ボタンが表示されます。クリックすると商品交換ページへ遷移するため、遷移後は「交換する」ボタンをクリックします。  

※交換が完了すると交換完了ページへ移動し、自身が出品したアイテムが表示されます。  
また交換が完了したアイテムには「交換済み商品です」という表示がでます。  
  
6. ユーザーAは、自身が出品したアイテムが交換済みであることを確認します。  
そしてユーザーBが出品している獲得したいアイテムの詳細ページへ遷移し、コメント部分で「交換作業のお礼」ボタンをクリックします。  
  
7. コメント部分に「商品交換へ進む」ボタンが表示されます。クリックすると商品交換ページへ遷移するため、遷移後は「交換する」ボタンをクリックします。以上で双方の交換が完了いたします。  
  
# アプリケーションを作成した背景  
*対象者・・・10~50代（学生/社会人）の幅広い世代を対象とし、アニメやアイドル等のファンでグッズの収集を欠かさず行なっている人。  
  
*解決する課題・・・ランダム商品やくじ等で、自分が欲しいものが入手できなかった時に交換相手を探す手間を軽減します。また最小限のコミュニケーションに抑え、相手とのやりとりにかかる時間を短縮します。  
  
# 洗い出した要件  

## トップページ  
  
【ボタン】  
*新規登録/ログインページへ遷移できるボタン  
*（ログイン時）ログアウトできるボタン  
*カテゴリーを選択できるボタン  
*出品ボタン  
*（ログイン時）マイページへ遷移できるボタン  
*獲得したいグッズを検索できるボタン  
*所持中のグッズと交換できるアイテムを検索するボタン  
  
【表示】  
*新規投稿された商品の表示  
*検索欄  
  
## 新規登録ページ  
  
【ボタン】  
*新規登録ボタン  
  
【表示】  
*ニックネーム  
*メールアドレス  
*パスワード  
*パスワード（確認）  
*推しているもの  
*氏名（全角）  
*氏名カナ（全角）
*郵便番号  
*都道府県  
*市区町村  
*番地  
*建物名  
*電話番号  
*生年月日  
  
## ログインページ  
  
【ボタン】  
*ログインボタン  
  
【表示】  
*メールアドレス  
*パスワード  
  
## 出品ページ  
  
【ボタン】  
*画像登録のためのファイル選択ボタン  
*出品するボタン  
*戻るボタン  

【表示】  
*商品画像  
*商品名  
*大カテゴリ（アイドル、キャラクター、ゲーム・・・）  
*中カテゴリ（twice,ちいかわ・・・）  
*小カテゴリ（キーホルダー、アクスタ、缶バッジ・・・）  
*商品の状態  
*交換して獲得したいグッズ  
*発送元の地域  
*発送までの日数  
  
## 商品詳細ページ  
  
【ボタン】  
*アイテムの編集ボタン(出品者の商品詳細ページのみ)  
*アイテムの削除ボタン(出品者の商品詳細ページのみ)  
*コメント投稿ボタン  
*商品交換へ進むボタン  
  
【表示】  
*商品画像  
*出品者のニックネーム  
*商品の状態  
*交換して獲得したいグッズ  
*発送元の地域  
*発送までの日数  
*コメントフォーム  
*コメント一覧  

  
## 商品交換ページ  
  
【ボタン】  

*交換実施ボタン

【表示】  
*これから交換を行うアイテムの画像  
*これから交換を行うアイテムの名前  
  
## 商品交換完了ページ  
  
【ボタン】  
*トップページへ移動するボタン  
    
【表示】  
*送付先の郵便番号  
*送付先の都道府県  
*送付先の市町村  
*送付先の番地  
*送付先の建物名  
*送付先の電話番号  
  
## 商品検索ページ  
  
【ボタン】  
*検索ボタン  
*戻るボタン  

【表示】  
*検索窓  
  
## マイページ  
  
【表示】  
*これまでに出品した商品一覧  

# 実装予定の機能  
  下記の機能を実装予定です。  
  
  *商品検索ページの実装  
  *マイページの実装  
  *各アイテムの登録時に細かなカテゴリー入力ができるよう項目を追加  
    
# データベース設計  
  [![Image from Gyazo](https://i.gyazo.com/6bde68362839da80dc4b1c59bbc418a2.png)](https://gyazo.com/6bde68362839da80dc4b1c59bbc418a2)  
  
# テーブル設計  
  
## users テーブル

| Column             | Type   | Options                   |
| ------------------ | ------ | -----------               |
| nickname           | string | null: false               | 
| email              | string | null: false, unique: true |
| encrypted_password | string | null: false               |
| favorite           | text   |                           |
| last_name          | string | null: false               |
| first_name         | string | null: false               |
| kana_last_name     | string | null: false               |
| kana_first_name    | string | null: false               |
| postcode           | string | null: false               |
| prefecture_id      | integer| null: false               |
| city               | string | null: false               |
| house_number       | string | null: false               |
| building           | string |                           |
| phone              | string | null: false               |
| birthday           | date   | null: false               |


### Association

- has_many :items
- has_many :trades
- has_many :comments


## items テーブル

| Column          | Type         | Options                        |
| ------          | ------       | -----------                    |
| item_name       | string       | null: false                    |
| description     | text         | null: false                    |
| category_id     | integer      | null: false                    |
| status_id       | integer      | null: false                    |
| prefecture_id   | integer      | null: false                    |
| shipping_day_id | integer      | null: false                    |
| wanted_item     | text         | null: false                    |
| user            | references   | null: false, foreign_key: true |


### Association

- has_many :comments
- has_one :trade
- belongs_to :user


## trades テーブル

| Column       | Type       | Options                                    |
| -------      | ---------- | ------------------------------             |
| user         | references | null: false, foreign_key: true             |
| item         | references | null: false, foreign_key: true             |



### Association

- belongs_to :user
- belongs_to :item



## comments テーブル

| Column      | Type       | Options                         |
| -------     | ---------- | ------------------------------  |
| user        | references |  null: false, foreign_key: true |
| item        | references |  null: false, foreign_key: true |
| content     | text       |                                 |


### Association

- belongs_to :user
- belongs_to :item  
  
# 開発環境  
  
  *使用した言語・・・HTML/CSS/Ruby/Ruby on Rails/JavaScript  
  
# 工夫したポイント  
  
*制作した背景・・・私自身がキャラクターのグッズを収集しており頻繁に交換したい場面に遭遇します。しかし現状ではX（Twitter）で交換相手を探す方が多く、交換に特化したサービスがあればよりスムーズに相手を見つけ交換ができるのではないかと考えました。またX（Twitter）では一から文章を考えコミュニケーションを行う必要があるため、手軽に利用できるようやりとりのテンプレートがあればいいなと感じたことがきっかけです。  
  
*開発方法・・・実装にあたり検討がつかない部分はChatGPTを使用しました。ChatGPTの指示内容でわからない部分は質問を重ね、なぜこのような形で実装するのかを一つずつ理解するようにしました。またChatGPTの指示でうまくいかない際は、エラー文や前後の構造から仮説を立て、改めて自分で考え解決するようにしておりました。  
  
# 改善点  
  
*アイテム詳細ページでコメント投稿を行う際、「交換OKです」ボタンと「交換作業のお礼」ボタンをクリックすると誰でもアイテム交換ページへ進めてしまいます。  
これを改善するために、コメントでアイテムの交換を提示（アイテム詳細ページのURLを提示）された段階で「交換へ進む」ボタンを出現させ、クリックすると提示されたアイテムの交換ページへ遷移するようにしたいです。  
※「交換へ進む」ボタンは、現在ログインしているユーザーIDとアイテムの出品者IDが一致している場合にのみ出現するようにします。  
  
# 制作時間  
  
約363時間 
